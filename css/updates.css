/* Updates & News component styles
   Mobile-first, accessible, and dark-mode aware
*/

:root{
  --updates-bg: var(--bg);
  --updates-card-bg: var(--card-bg);
  --updates-muted: var(--muted);
  --updates-accent: var(--accent);
  --updates-radius: 12px;
  --updates-shadow: 0 6px 20px rgba(12,12,12,0.06);
}

[data-theme="dark"]{
  --updates-shadow: 0 8px 24px rgba(0,0,0,0.6);
}

.updates-hero{
  background: linear-gradient(180deg, rgba(11,116,222,0.04), transparent);
  padding: 1.4rem 1rem; /* reduced height per UX feedback */
  margin: 0 0 1.2rem;
  text-align:center;
}
.updates-hero .lead{ max-width: 72ch; color: var(--updates-muted); margin:0.5rem auto 0; }
.hero-controls{margin-top:10px;display:flex;justify-content:center}
.hero-controls .search{position:relative}
.hero-controls .search input{min-width:320px;padding:.6rem .75rem  .6rem 36px;border-radius:10px;border:1px solid rgba(0,0,0,0.08);background:var(--card);box-shadow:inset 0 1px 2px rgba(0,0,0,0.03)}
.hero-controls .search:before{content:'';position:absolute;left:12px;top:50%;transform:translateY(-50%);width:14px;height:14px;background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='%236B7280' viewBox='0 0 24 24'><circle cx='11' cy='11' r='6' stroke-width='2'/><path d='M21 21l-4.35-4.35' stroke-width='2' stroke-linecap='round'/></svg>");background-size:14px 14px;background-repeat:no-repeat;background-position:center}

.filter-bar{display:flex;gap:1rem;align-items:center;justify-content:space-between;padding:8px 0.75rem;margin-bottom:1rem;position:sticky;top:64px;background:rgba(255,255,255,0.02);backdrop-filter: blur(4px);border-radius:10px;z-index:30;box-shadow:0 6px 18px rgba(2,6,23,0.02)}
.filter-bar .filter-group{display:flex;gap:.75rem;align-items:center}
.filter-bar select{padding:.5rem .6rem;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:transparent}

/* Feed list */
.updates-list{ display:grid; gap:1.25rem; grid-template-columns:1fr; list-style:none; padding:0; margin:0 auto 2rem; max-width:1100px; position:relative }
@media(min-width:640px){ .updates-list{ grid-template-columns: repeat(2,1fr); } }
@media(min-width:1000px){ .updates-list{ grid-template-columns: repeat(3,1fr); } }

/* vertical timeline line */
.updates-list::before{ content:''; position:absolute; left:84px; top:0; bottom:0; width:2px; background:linear-gradient(180deg,var(--updates-accent),rgba(0,0,0,0.06)); opacity:0.10 }
@media (max-width:799px){ .updates-list::before{ display:none } }

.update-card{ background:var(--updates-card-bg); border-radius:var(--updates-radius); box-shadow:var(--updates-shadow); padding:1.25rem; display:grid; grid-template-columns:84px 1fr; gap:1rem; align-items:start; min-height:140px; transition:transform .18s ease,box-shadow .18s ease; position:relative }
.update-card:hover{ transform:translateY(-6px); box-shadow:0 26px 60px rgba(2,6,23,0.08) }
.card-left{ display:flex; align-items:flex-start; justify-content:flex-end; padding-right:6px }
.card-left .update-date{ font-size:.72rem; color:rgba(107,114,128,0.78); display:block }
.card-left .badge{ display:block;margin-top:6px;background: rgba(11,116,222,0.06); color:var(--updates-accent); padding:.125rem .5rem; border-radius:6px; font-weight:600; font-size:.75rem; }

.card-main{ display:flex;flex-direction:column }
.update-title{ font-size:1.16rem; font-weight:700; margin:0 0 .5rem; line-height:1.26; color:inherit; }
.update-summary{ color:var(--updates-muted); margin:0 0 .85rem; line-height:1.72; display:-webkit-box; -webkit-line-clamp:4; -webkit-box-orient:vertical; overflow:hidden; }
.update-cta{ margin-top:auto; display:flex; gap:.5rem; align-items:center; }
.btn-link{ color:var(--updates-accent); text-decoration:none; font-weight:700; display:inline-flex; align-items:center; gap:.45rem }
.btn-link::after{ content:'â†’'; opacity:0.9; transform:translateX(0); transition:transform .16s ease }
.btn-link:hover::after{ transform:translateX(4px) }
.btn-link:focus-visible{ outline:3px solid rgba(11,110,246,0.18); outline-offset:3px }

/* Skeletons */
.skeleton-card{ background: linear-gradient(90deg, #f0f0f0 25%, #e8e8e8 37%, #f0f0f0 63%); background-size:400% 100%; animation: shimmer 1.2s linear infinite; border-radius:12px; height:150px; }
@keyframes shimmer{ 0%{ background-position:200% 0 } 100%{ background-position:-200% 0 } }

/* Load more */
#updates-load-more{ display:inline-block; margin: 1.5rem auto 2.5rem; padding:.8rem 1.1rem; border-radius:10px; background:linear-gradient(180deg,var(--updates-accent),#0358d6); color:#fff; border:0; cursor:pointer; font-weight:700 }

/* Loading state for load-more button */
.btn-loading{ position:relative }
.btn-loading::after{ content:''; position:absolute; right:12px; top:50%; transform:translateY(-50%); width:12px;height:12px;border-radius:50%;border:2px solid rgba(255,255,255,0.6);border-top-color:transparent; animation:spin .8s linear infinite }
@keyframes spin{ to{ transform:translateY(-50%) rotate(360deg) } }

/* Focus visibility for keyboard users */
.update-card:focus-within{ outline: 3px solid rgba(11,116,222,0.12); }
.updates-actions{ margin-top:1.5rem }

/* Year header styling for stronger hierarchy */
.year{ font-weight:600; margin:1.2rem 0 0.6rem; font-size:1rem; color:var(--updates-muted); }
.year:after{ content:''; display:block; width:40px; height:1px; background:rgba(0,0,0,0.05); margin-top:8px }

/* Focus-visible for form controls */
input:focus-visible, select:focus-visible, button:focus-visible, a:focus-visible{ outline:3px solid rgba(11,110,246,0.18); outline-offset:3px }

/* Accessibility tweaks */
.empty-state{ padding: 2rem 1rem; color:var(--updates-muted); text-align:center; }

/* Small screens: full-width controls */
@media(max-width:799px){ .updates-list{ max-width:740px } }
@media(max-width:639px){ .updates-controls{ flex-direction:column; align-items:stretch; } .updates-controls input[type="search"]{ width:100%; } .update-card{ grid-template-columns:1fr; } .updates-list::before{ display:none } }
